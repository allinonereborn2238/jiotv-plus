<script>document.write(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiLz4KICA8dGl0bGU+QUxMSU5PTkUgUmVib3JuPC90aXRsZT4KICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUludGVyOndnaHRAMzAwOzQwMDs1MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCIgLz4KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS82LjQuMC9jc3MvYWxsLm1pbi5jc3MiIC8+CiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3NoYWthLXBsYXllci80LjYuMC9zaGFrYS1wbGF5ZXIudWkubWluLmpzIj48L3NjcmlwdD4KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3NoYWthLXBsYXllci80LjYuMC9jb250cm9scy5taW4uY3NzIj4KICA8c3R5bGU+CiAgICA6cm9vdCB7CiAgICAgIC0tcHJpbWFyeTogIzQzNjFlZTsKICAgICAgLS1wcmltYXJ5LWxpZ2h0OiAjNDg5NWVmOwogICAgICAtLXNlY29uZGFyeTogI2Y5Yzc0ZjsKICAgICAgLS10ZXJ0aWFyeTogIzkwZTBlZjsKICAgICAgLS1iZy1kYXJrOiAjMGExMTI4OwogICAgICAtLWJnLWRhcmtlcjogIzA2MGIxYTsKICAgICAgLS1jYXJkLWJnOiAjMWEyMzdlOwogICAgICAtLXRleHQtbGlnaHQ6ICNlMmUyZTI7CiAgICAgIC0tdGV4dC1saWdodGVyOiAjZmZmZmZmOwogICAgICAtLXRleHQtbXV0ZWQ6ICNhOGE4YTg7CiAgICAgIC0tZ2xhc3MtZWZmZWN0OiByZ2JhKDEwLCAxNywgNDAsIDAuNyk7CiAgICB9CiAgICAKICAgICogeyAKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgbWFyZ2luOiAwOwogICAgICBwYWRkaW5nOiAwOwogICAgfQogICAgCiAgICBib2R5IHsKICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7CiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLWJnLWRhcmtlciksIHZhcigtLWJnLWRhcmspKTsKICAgICAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpOwogICAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICBvcGFjaXR5OiAwOwogICAgICBhbmltYXRpb246IGZhZGVJbiAxcyBlYXNlIGZvcndhcmRzOwogICAgfQogICAgCiAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7IHRvIHsgb3BhY2l0eTogMTsgfSB9CiAgICAKICAgIC8qIEhlYWRlciBTdHlsZXMgKi8KICAgIGhlYWRlciB7CiAgICAgIHBvc2l0aW9uOiBzdGlja3k7CiAgICAgIHRvcDogMDsKICAgICAgei1pbmRleDogMTAwOwogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1nbGFzcy1lZmZlY3QpOwogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7CiAgICAgIHBhZGRpbmc6IDFyZW07CiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI0OSwgMTk5LCA3OSwgMC4xKTsKICAgIH0KICAgIAogICAgLmxvZ28gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBnYXA6IDAuNXJlbTsKICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tc2Vjb25kYXJ5KSwgdmFyKC0tcHJpbWFyeS1saWdodCkpOwogICAgICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgIH0KICAgIAogICAgLmxvZ28gaSB7CiAgICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgfQogICAgCiAgICAubmF2LWxpbmtzIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZ2FwOiAxcmVtOwogICAgfQogICAgCiAgICAubmF2LWxpbmtzIGEgewogICAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7CiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGdhcDogMC4zcmVtOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIHBhZGRpbmc6IDAuNXJlbTsKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgfQogICAgCiAgICAubmF2LWxpbmtzIGEuYWN0aXZlIHsKICAgICAgYmFja2dyb3VuZDogcmdiYSg2NywgOTcsIDIzOCwgMC4yKTsKICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoNjcsIDk3LCAyMzgsIDAuMik7CiAgICB9CiAgICAKICAgIC5uYXYtbGlua3MgYSAuYmFkZ2UgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogLTVweDsKICAgICAgcmlnaHQ6IC04cHg7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeSk7CiAgICAgIGNvbG9yOiB2YXIoLS1iZy1kYXJrKTsKICAgICAgd2lkdGg6IDE2cHg7CiAgICAgIGhlaWdodDogMTZweDsKICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICBmb250LXNpemU6IDAuNnJlbTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgfQogICAgCiAgICAvKiBNYWluIExheW91dCAtIFNpZGViYXIgKyBDb250ZW50ICovCiAgICAubWFpbi1jb250YWluZXIgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBtaW4taGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7CiAgICB9CiAgICAKICAgIC8qIFNpZGViYXIgKENoYW5uZWxzIExpc3QpICovCiAgICAuc2lkZWJhciB7CiAgICAgIHdpZHRoOiAzMjBweDsKICAgICAgYmFja2dyb3VuZDogcmdiYSgxMCwgMTcsIDQwLCAwLjgpOwogICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2JhKDI0OSwgMTk5LCA3OSwgMC4xKTsKICAgICAgcGFkZGluZzogMXJlbTsKICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgcG9zaXRpb246IHN0aWNreTsKICAgICAgdG9wOiA2MHB4OwogICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2MHB4KTsKICAgICAgZGlzcGxheTogbm9uZTsgLyogSGlkZGVuIGJ5IGRlZmF1bHQgb24gbW9iaWxlICovCiAgICB9CiAgICAKICAgIC5zaWRlYmFyLm9wZW4gewogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICB0b3A6IDYwcHg7CiAgICAgIGxlZnQ6IDA7CiAgICAgIHdpZHRoOiAzMjBweDsKICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7CiAgICAgIHotaW5kZXg6IDkwOwogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1kYXJrZXIpOwogICAgICBib3gtc2hhZG93OiA1cHggMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgIH0KICAgIAogICAgLnNpZGViYXItaGVhZGVyIHsKICAgICAgcGFkZGluZzogMC41cmVtIDA7CiAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07CiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICB9CiAgICAKICAgIC5zaWRlYmFyLXRpdGxlIHsKICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnkpOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBnYXA6IDAuNXJlbTsKICAgIH0KICAgIAogICAgLyogU2lkZWJhciBTZWFyY2ggKi8KICAgIC5zaWRlYmFyLXNlYXJjaCB7CiAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIH0KICAgIAogICAgLnNpZGViYXItc2VhcmNoIGlucHV0IHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIHBhZGRpbmc6IDAuOHJlbSAxcmVtIDAuOHJlbSAyLjVyZW07CiAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KTsKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICBjb2xvcjogd2hpdGU7CiAgICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgICBvdXRsaW5lOiBub25lOwogICAgfQogICAgCiAgICAuc2lkZWJhci1zZWFyY2ggaW5wdXQ6OnBsYWNlaG9sZGVyIHsKICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOwogICAgfQogICAgCiAgICAuc2lkZWJhci1zZWFyY2ggaSB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgbGVmdDogMXJlbTsKICAgICAgdG9wOiA1MCU7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7CiAgICB9CiAgICAKICAgIC8qIFNpZGViYXIgQ2F0ZWdvcmllcyAqLwogICAgLnNpZGViYXItY2F0ZWdvcmllcyB7CiAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTsKICAgIH0KICAgIAogICAgLnNpZGViYXItY2F0ZWdvcnktdGl0bGUgewogICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7CiAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsKICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgZ2FwOiAwLjVyZW07CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICB9CiAgICAKICAgIC5zaWRlYmFyLWNhdGVnb3J5LWxpc3QgewogICAgICBkaXNwbGF5OiBub25lOwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBnYXA6IDAuNXJlbTsKICAgICAgbWF4LWhlaWdodDogMjAwcHg7CiAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDsKICAgICAgbWFyZ2luLXRvcDogMC41cmVtOwogICAgfQogICAgCiAgICAuc2lkZWJhci1jYXRlZ29yeS1saXN0Lm9wZW4gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgfQogICAgCiAgICAuc2lkZWJhci1jYXRlZ29yeS1saXN0Ojotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgIHdpZHRoOiA0cHg7CiAgICB9CiAgICAKICAgIC5zaWRlYmFyLWNhdGVnb3J5LWxpc3Q6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTsKICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgfQogICAgCiAgICAuc2lkZWJhci1jYXRlZ29yeS1saXN0Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpOwogICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB9CiAgICAKICAgIC5zaWRlYmFyLWNhdGVnb3J5LWl0ZW0gewogICAgICBwYWRkaW5nOiAwLjZyZW07CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIH0KICAgIAogICAgLnNpZGViYXItY2F0ZWdvcnktaXRlbTpob3ZlciB7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNjcsIDk3LCAyMzgsIDAuMTUpOwogICAgfQogICAgCiAgICAuc2lkZWJhci1jYXRlZ29yeS1pdGVtLmFjdGl2ZSB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpOwogICAgICBjb2xvcjogd2hpdGU7CiAgICB9CiAgICAKICAgIC5jYXRlZ29yeS1jb3VudCB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeSk7CiAgICAgIGNvbG9yOiB2YXIoLS1iZy1kYXJrKTsKICAgICAgZm9udC1zaXplOiAwLjdyZW07CiAgICAgIHBhZGRpbmc6IDAuMXJlbSAwLjRyZW07CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgfQogICAgCiAgICAuY2hhbm5lbHMtbGlzdCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGdhcDogMC41cmVtOwogICAgICBtYXJnaW4tdG9wOiAxcmVtOwogICAgfQogICAgCiAgICAuY2hhbm5lbC1pdGVtIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgZ2FwOiAxcmVtOwogICAgICBwYWRkaW5nOiAwLjhyZW07CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICB9CiAgICAKICAgIC5jaGFubmVsLWl0ZW06aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDY3LCA5NywgMjM4LCAwLjE1KTsKICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDY3LCA5NywgMjM4LCAwLjMpOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTsKICAgIH0KICAgIAogICAgLmNoYW5uZWwtaXRlbS5hY3RpdmUgewogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDY3LCA5NywgMjM4LCAwLjI1KTsKICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIH0KICAgIAogICAgLmNoYW5uZWwtbG9nby1zbWFsbCB7CiAgICAgIHdpZHRoOiA0MHB4OwogICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgb2JqZWN0LWZpdDogY292ZXI7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKICAgIH0KICAgIAogICAgLmNoYW5uZWwtaW5mbyB7CiAgICAgIGZsZXg6IDE7CiAgICB9CiAgICAKICAgIC5jaGFubmVsLW5hbWUgewogICAgICBmb250LXdlaWdodDogNTAwOwogICAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodGVyKTsKICAgICAgZm9udC1zaXplOiAwLjk1cmVtOwogICAgfQogICAgCiAgICAuY2hhbm5lbC1tZXRhIHsKICAgICAgZm9udC1zaXplOiAwLjhyZW07CiAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsKICAgICAgbWFyZ2luLXRvcDogMC4ycmVtOwogICAgfQogICAgCiAgICAvKiBNYWluIENvbnRlbnQgQXJlYSAqLwogICAgLmNvbnRlbnQtYXJlYSB7CiAgICAgIGZsZXg6IDE7CiAgICAgIHBhZGRpbmc6IDFyZW07CiAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICB9CiAgICAKICAgIC8qIFRvcCBTZWFyY2ggQmFyIC0gUmVtb3ZlZCAqLwogICAgLnRvcC1zZWFyY2gtYmFyIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0KICAgIAogICAgLyogUXVpY2sgQ2F0ZWdvcnkgQ2hpcHMgLSBSZW1vdmVkIGZyb20gY29udGVudCBhcmVhICovCiAgICAucXVpY2stY2F0ZWdvcmllcyB7CiAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICB9CiAgICAKICAgIC8qIFBsYXllciBTZWN0aW9uICovCiAgICAucGxheWVyLXNlY3Rpb24gewogICAgICBtYXJnaW4tYm90dG9tOiAycmVtOwogICAgICBib3JkZXItcmFkaXVzOiAxNnB4OwogICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICBib3gtc2hhZG93OiAwIDIwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuNCk7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjQ5LCAxOTksIDc5LCAwLjIpOwogICAgfQogICAgCiAgICAucGxheWVyLWhlYWRlciB7CiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgICAgcGFkZGluZzogMXJlbTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgfQogICAgCiAgICAuY3VycmVudC1jaGFubmVsIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgZ2FwOiAxcmVtOwogICAgfQogICAgCiAgICAuY3VycmVudC1jaGFubmVsLWxvZ28gewogICAgICB3aWR0aDogNTBweDsKICAgICAgaGVpZ2h0OiA1MHB4OwogICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwogICAgfQogICAgCiAgICAuY2hhbm5lbC10aXRsZSB7CiAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICBmb250LXdlaWdodDogNjAwOwogICAgICBjb2xvcjogd2hpdGU7CiAgICB9CiAgICAKICAgIC5wbGF5ZXItaGVhZGVyLWJ1dHRvbnMgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBnYXA6IDAuOHJlbTsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIH0KICAgIAogICAgLmZhdm9yaXRlLWJ0bi1wbGF5ZXIgewogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnkpOwogICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnkpOwogICAgICB3aWR0aDogNDBweDsKICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICAgIGZvbnQtc2l6ZTogMS4xcmVtOwogICAgfQogICAgCiAgICAuZmF2b3JpdGUtYnRuLXBsYXllcjpob3ZlciB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeSk7CiAgICAgIGNvbG9yOiB2YXIoLS1iZy1kYXJrKTsKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOwogICAgfQogICAgCiAgICAuZmF2b3JpdGUtYnRuLXBsYXllci5hY3RpdmUgewogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpOwogICAgICBjb2xvcjogdmFyKC0tYmctZGFyayk7CiAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMjQ5LCAxOTksIDc5LCAwLjUpOwogICAgfQogICAgCiAgICAuZnVsbHNjcmVlbi1idG4gewogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgYm9yZGVyOiBub25lOwogICAgICBwYWRkaW5nOiAwLjZyZW0gMS4ycmVtOwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgZ2FwOiAwLjVyZW07CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB9CiAgICAKICAgIC5mdWxsc2NyZWVuLWJ0bjpob3ZlciB7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgfQogICAgCiAgICAucGxheWVyLWNvbnRhaW5lciB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogNTAwcHg7CiAgICAgIGJhY2tncm91bmQ6ICMwMDA7CiAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB9CiAgICAKICAgIC5zaGFrYS12aWRlby1jb250YWluZXIgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGluc2V0OiAwOwogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAuc2hha2EtdmlkZW8tY29udGFpbmVyIHZpZGVvIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgb2JqZWN0LWZpdDogY29udGFpbjsKICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgIH0KICAgIAogICAgLnNoYWthLXNwaW5uZXItY29udGFpbmVyLAogICAgLnNoYWthLXNwaW5uZXIsCiAgICAuc2hha2Etc3Bpbm5lci1zdmcgewogICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICB9CiAgICAKICAgIC8qIFBsYXllciBDb250cm9scyAtIFJFTU9WRUQgKi8KICAgIC5wbGF5ZXItY29udHJvbHMgewogICAgICBkaXNwbGF5OiBub25lOwogICAgfQogICAgCiAgICAvKiBBZHMgQ29udGFpbmVyIC0gTkVXICovCiAgICAuYWRzLWNvbnRhaW5lciB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wMyk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjQ5LCAxOTksIDc5LCAwLjEpOwogICAgfQogICAgCiAgICAvKiBNb2JpbGUgVG9nZ2xlIEJ1dHRvbiAqLwogICAgLnNpZGViYXItdG9nZ2xlIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICBib3R0b206IDJyZW07CiAgICAgIGxlZnQ6IDFyZW07CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpOwogICAgICBjb2xvcjogd2hpdGU7CiAgICAgIHdpZHRoOiA1MHB4OwogICAgICBoZWlnaHQ6IDUwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIHotaW5kZXg6IDk1OwogICAgICBib3gtc2hhZG93OiAwIDVweCAxNXB4IHJnYmEoNjcsIDk3LCAyMzgsIDAuNCk7CiAgICB9CiAgICAKICAgIC8qIEZsb2F0aW5nIENvbnRhY3QgQnV0dG9uICovCiAgICAuZmxvYXRpbmctY29udGFjdCB7CiAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgYm90dG9tOiAycmVtOwogICAgICByaWdodDogMnJlbTsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTsKICAgICAgY29sb3I6IHZhcigtLWJnLWRhcmspOwogICAgICB3aWR0aDogNjBweDsKICAgICAgaGVpZ2h0OiA2MHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBmb250LXNpemU6IDEuNXJlbTsKICAgICAgYm94LXNoYWRvdzogMCA4cHggMjVweCByZ2JhKDI0OSwgMTk5LCA3OSwgMC4zKTsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB6LWluZGV4OiA5MDsKICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgIH0KICAgIAogICAgLmZsb2F0aW5nLWNvbnRhY3Q6aG92ZXIgewogICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSkgcm90YXRlKDEwZGVnKTsKICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgyNDksIDE5OSwgNzksIDAuNCk7CiAgICB9CgogICAgLm1vYmlsZS1jYXRlZ29yeS1wYW5lbCB7CiAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgYm90dG9tOiA3cmVtOwogICAgICByaWdodDogMnJlbTsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctZGFya2VyKTsKICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNDksIDE5OSwgNzksIDAuMik7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgICAgIHBhZGRpbmc6IDFyZW07CiAgICAgIHotaW5kZXg6IDkwOwogICAgICBkaXNwbGF5OiBub25lOwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBnYXA6IDAuNXJlbTsKICAgICAgbWF4LWhlaWdodDogMzAwcHg7CiAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgIHdpZHRoOiAyMDBweDsKICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgfQogICAgCiAgICAubW9iaWxlLWNhdGVnb3J5LXBhbmVsLm9wZW4gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgfQogICAgCiAgICAvKiBSZXNwb25zaXZlIERlc2lnbiAqLwogICAgLyogRGVza3RvcCAoMTAyNHB4IGFuZCBhYm92ZSkgKi8KICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkgewogICAgICAuc2lkZWJhciB7CiAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIH0KICAgICAgCiAgICAgIC5tYWluLWNvbnRhaW5lciB7CiAgICAgICAgcGFkZGluZy1sZWZ0OiAwOwogICAgICB9CiAgICAgIAogICAgICAuY29udGVudC1hcmVhIHsKICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgfQogICAgICAKICAgICAgLnNpZGViYXItdG9nZ2xlLAogICAgICAubW9iaWxlLWNhdGVnb3J5LW1lbnUgewogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgIH0KICAgICAgCiAgICAgIC5wbGF5ZXItY29udGFpbmVyIHsKICAgICAgICBoZWlnaHQ6IDYwMHB4OwogICAgICB9CiAgICB9CiAgICAKICAgIC8qIFRhYmxldCAoNzY4cHggdG8gMTAyM3B4KSAqLwogICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAyM3B4KSB7CiAgICAgIC5zaWRlYmFyIHsKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICB9CiAgICAgIAogICAgICAuc2lkZWJhci5vcGVuIHsKICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgfQogICAgICAKICAgICAgLm1haW4tY29udGFpbmVyIHsKICAgICAgICBwYWRkaW5nLWxlZnQ6IDA7CiAgICAgIH0KICAgICAgCiAgICAgIC5jb250ZW50LWFyZWEgewogICAgICAgIG1hcmdpbi1sZWZ0OiAwOwogICAgICB9CiAgICAgIAogICAgICAuc2lkZWJhci10b2dnbGUgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIH0KICAgICAgCiAgICAgIC5tb2JpbGUtY2F0ZWdvcnktbWVudSB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgfQogICAgICAKICAgICAgLnBsYXllci1jb250YWluZXIgewogICAgICAgIGhlaWdodDogNDAwcHg7CiAgICAgIH0KICAgIH0KICAgIAogICAgLyogTW9iaWxlICg0ODBweCB0byA3NjdweCkgKi8KICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KSB7CiAgICAgIGhlYWRlciB7CiAgICAgICAgcGFkZGluZzogMC44cmVtOwogICAgICB9CiAgICAgIAogICAgICAubG9nbyB7CiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICB9CiAgICAgIAogICAgICAubG9nbyBpIHsKICAgICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgfQogICAgICAKICAgICAgLm5hdi1saW5rcyB7CiAgICAgICAgZ2FwOiAwLjVyZW07CiAgICAgIH0KICAgICAgCiAgICAgIC5uYXYtbGlua3MgYSB7CiAgICAgICAgZm9udC1zaXplOiAwLjhyZW07CiAgICAgICAgcGFkZGluZzogMC4zcmVtOwogICAgICB9CiAgICAgIAogICAgICAubmF2LWxpbmtzIGEgc3Bhbjpub3QoLmJhZGdlKSB7CiAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgfQogICAgICAKICAgICAgLnBsYXllci1oZWFkZXItYnV0dG9ucyB7CiAgICAgICAgZ2FwOiAwLjVyZW07CiAgICAgIH0KICAgICAgCiAgICAgIC5mYXZvcml0ZS1idG4tcGxheWVyIHsKICAgICAgICB3aWR0aDogMzVweDsKICAgICAgICBoZWlnaHQ6IDM1cHg7CiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICB9CiAgICAgIAogICAgICAuZnVsbHNjcmVlbi1idG4gewogICAgICAgIHBhZGRpbmc6IDAuNXJlbSAwLjhyZW07CiAgICAgICAgZm9udC1zaXplOiAwLjlyZW07CiAgICAgIH0KICAgICAgCiAgICAgIC5mdWxsc2NyZWVuLWJ0biBzcGFuIHsKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICB9CiAgICAgIAogICAgICAucGxheWVyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiAzMDBweDsKICAgICAgfQogICAgICAKICAgICAgLmZsb2F0aW5nLWNvbnRhY3QgewogICAgICAgIHdpZHRoOiA1MHB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBmb250LXNpemU6IDEuM3JlbTsKICAgICAgICBib3R0b206IDEuNXJlbTsKICAgICAgICByaWdodDogMS41cmVtOwogICAgICB9CiAgICAgIAogICAgICAuc2lkZWJhci10b2dnbGUgewogICAgICAgIHdpZHRoOiA0NXB4OwogICAgICAgIGhlaWdodDogNDVweDsKICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgYm90dG9tOiAxLjVyZW07CiAgICAgIH0KICAgICAgCiAgICAgIC5tb2JpbGUtY2F0ZWdvcnktbWVudSB7CiAgICAgICAgd2lkdGg6IDQ1cHg7CiAgICAgICAgaGVpZ2h0OiA0NXB4OwogICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICBib3R0b206IDEuNXJlbTsKICAgICAgICByaWdodDogNXJlbTsKICAgICAgfQogICAgICAKICAgICAgLm1vYmlsZS1jYXRlZ29yeS1wYW5lbCB7CiAgICAgICAgYm90dG9tOiA2LjVyZW07CiAgICAgICAgcmlnaHQ6IDFyZW07CiAgICAgICAgd2lkdGg6IDE4MHB4OwogICAgICAgIG1heC1oZWlnaHQ6IDI1MHB4OwogICAgICB9CiAgICB9CiAgICAKICAgIC8qIFNtYWxsIE1vYmlsZSAoYmVsb3cgNDgwcHgpICovCiAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCkgewogICAgICAucGxheWVyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiAyNTBweDsKICAgICAgfQogICAgICAKICAgICAgLnNpZGViYXIub3BlbiB7CiAgICAgICAgd2lkdGg6IDI4MHB4OwogICAgICB9CiAgICAgIAogICAgICAubW9iaWxlLWNhdGVnb3J5LW1lbnUgewogICAgICAgIHJpZ2h0OiA0cmVtOwogICAgICB9CiAgICB9CiAgICAKICAgIC8qIExvYWRlciAqLwogICAgLmxvYWRlciB7CiAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgaW5zZXQ6IDA7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWRhcmtlcik7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICB6LWluZGV4OiAxMDAwOwogICAgfQogICAgCiAgICAubG9hZGVyLXRleHQgewogICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTsKICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICB9CiAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICA8ZGl2IGNsYXNzPSJsb2FkZXIiIGlkPSJsb2FkZXIiPgogICAgPGRpdiBjbGFzcz0ibG9hZGVyLXRleHQiPkxvYWRpbmcgY2hhbm5lbHMuLi48L2Rpdj4KICA8L2Rpdj4KICAKICA8aGVhZGVyPgogICAgPGEgaHJlZj0iIyIgY2xhc3M9ImxvZ28iIGlkPSJob21lQnRuIj4KICAgICAgPGkgY2xhc3M9ImZhcyBmYS10diI+PC9pPgogICAgICA8c3Bhbj5BTExJTk9ORSBSZWJvcm4gSmlvVHYrPC9zcGFuPgogICAgPC9hPgogICAgPGRpdiBjbGFzcz0ibmF2LWxpbmtzIj4KICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9ImFjdGl2ZSIgaWQ9ImFsbENoYW5uZWxzQnRuIj48aSBjbGFzcz0iZmFzIGZhLWhvbWUiPjwvaT4gPHNwYW4+SG9tZTwvc3Bhbj48L2E+CiAgICAgIDxhIGhyZWY9IiMiIGlkPSJmYXZvcml0ZXNCdG4iPjxpIGNsYXNzPSJmYXMgZmEtaGVhcnQiPjwvaT4gPHNwYW4+RmF2PC9zcGFuPiA8c3BhbiBjbGFzcz0iYmFkZ2UiIGlkPSJmYXZDb3VudCI+MDwvc3Bhbj48L2E+CiAgICAgIDxhIGhyZWY9IiMiIGlkPSJyZWNlbnRCdG4iPjxpIGNsYXNzPSJmYXMgZmEtaGlzdG9yeSI+PC9pPiA8c3Bhbj5SZWNlbnQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJiYWRnZSIgaWQ9InJlY2VudENvdW50Ij4wPC9zcGFuPjwvYT4KICAgICAgPGEgaHJlZj0iI2NvbnRhY3QiIGlkPSJjb250YWN0QnRuIj48aSBjbGFzcz0iZmFzIGZhLWVudmVsb3BlIj48L2k+IDxzcGFuPkNvbnRhY3Q8L3NwYW4+PC9hPgogICAgPC9kaXY+CiAgPC9oZWFkZXI+CiAgCiAgPGRpdiBjbGFzcz0ic2lkZWJhci10b2dnbGUiIGlkPSJzaWRlYmFyVG9nZ2xlIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtYmFycyI+PC9pPgogIDwvZGl2PgogIAogIDxkaXYgY2xhc3M9Im1vYmlsZS1jYXRlZ29yeS1tZW51IiBpZD0ibW9iaWxlQ2F0ZWdvcnlNZW51Ij4KICAgIDxpIGNsYXNzPSJmYXMgZmEtZmlsdGVyIj48L2k+CiAgPC9kaXY+CiAgCiAgPGRpdiBjbGFzcz0ibW9iaWxlLWNhdGVnb3J5LXBhbmVsIiBpZD0ibW9iaWxlQ2F0ZWdvcnlQYW5lbCI+CiAgICAKICA8L2Rpdj4KICAKICA8ZGl2IGNsYXNzPSJtYWluLWNvbnRhaW5lciI+CiAgICAKICAgIDxhc2lkZSBjbGFzcz0ic2lkZWJhciIgaWQ9InNpZGViYXIiPgogICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyLWhlYWRlciI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2lkZWJhci10aXRsZSI+CiAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWxpc3QiPjwvaT4KICAgICAgICAgIDxzcGFuPkNoYW5uZWxzIExpc3Q8L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICAKICAgICAgCiAgICAgIDxkaXYgY2xhc3M9InNpZGViYXItc2VhcmNoIj4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXNlYXJjaCI+PC9pPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic2lkZWJhclNlYXJjaCIgcGxhY2Vob2xkZXI9IlNlYXJjaCBjaGFubmVscy4uLiI+CiAgICAgIDwvZGl2PgogICAgICAKICAgICAgCiAgICAgIDxkaXYgY2xhc3M9InNpZGViYXItY2F0ZWdvcmllcyI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2lkZWJhci1jYXRlZ29yeS10aXRsZSIgaWQ9ImNhdGVnb3J5VG9nZ2xlIj4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdGFncyI+PC9pPgogICAgICAgICAgPHNwYW4+Q2F0ZWdvcmllczwvc3Bhbj4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hldnJvbi1kb3duIiBpZD0iY2F0ZWdvcnlBcnJvdyIgc3R5bGU9Im1hcmdpbi1sZWZ0OiBhdXRvOyBmb250LXNpemU6IDAuOHJlbTsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTsiPjwvaT4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyLWNhdGVnb3J5LWxpc3QiIGlkPSJzaWRlYmFyQ2F0ZWdvcnlMaXN0Ij4KICAgICAgICAgIAogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgCiAgICAgIAogICAgICA8ZGl2IGNsYXNzPSJjaGFubmVscy1saXN0IiBpZD0iY2hhbm5lbHNMaXN0Ij4KICAgICAgICAKICAgICAgPC9kaXY+CiAgICA8L2FzaWRlPgogICAgCiAgICAKICAgIDxtYWluIGNsYXNzPSJjb250ZW50LWFyZWEiIGlkPSJjb250ZW50QXJlYSI+CiAgICAgIAogICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXItc2VjdGlvbiIgaWQ9InBsYXllclNlY3Rpb24iPgogICAgICAgIDxkaXYgY2xhc3M9InBsYXllci1oZWFkZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0iY3VycmVudC1jaGFubmVsIiBpZD0iY3VycmVudENoYW5uZWxJbmZvIj4KICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaW1nLnNhbmlzaHRlY2guY29tL3UvNzBiZGU2MzEzYjAxMTBhYTU0MDBkY2ViYTQ1NTk4YzIucG5nIiBhbHQ9IkNoYW5uZWwgTG9nbyIgY2xhc3M9ImN1cnJlbnQtY2hhbm5lbC1sb2dvIiBpZD0iY3VycmVudENoYW5uZWxMb2dvIj4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFubmVsLXRpdGxlIiBpZD0iY3VycmVudENoYW5uZWxUaXRsZSI+U2VsZWN0IGEgY2hhbm5lbCB0byBwbGF5PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hhbm5lbC1tZXRhIiBpZD0iY3VycmVudENoYW5uZWxNZXRhIj5DbGljayBhbnkgY2hhbm5lbCB0byBzdGFydCBzdHJlYW1pbmc8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIAogICAgICAgICAgPGRpdiBjbGFzcz0icGxheWVyLWhlYWRlci1idXR0b25zIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZmF2b3JpdGUtYnRuLXBsYXllciIgaWQ9ImZhdm9yaXRlQnRuUGxheWVyIiB0aXRsZT0iQWRkIHRvIGZhdm9yaXRlcyI+CiAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1oZWFydCI+PC9pPgogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZnVsbHNjcmVlbi1idG4iIGlkPSJmdWxsc2NyZWVuQnRuIiB0aXRsZT0iRnVsbHNjcmVlbiI+CiAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1leHBhbmQiPjwvaT4KICAgICAgICAgICAgICA8c3Bhbj5GdWxsc2NyZWVuPC9zcGFuPgogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9InBsYXllci1jb250YWluZXIiIGlkPSJwbGF5ZXJDb250YWluZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2hha2EtdmlkZW8tY29udGFpbmVyIiBpZD0idmlkZW9Db250YWluZXIiPgogICAgICAgICAgICA8dmlkZW8gYXV0b3BsYXkgbXV0ZWQgcGxheXNpbmxpbmUgaWQ9InZpZGVvRWxlbWVudCI+PC92aWRlbz4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgCiAgICAgIAogICAgICAKICAgICAgPGRpdiBjbGFzcz0iYWRzLWNvbnRhaW5lciI+CiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgIGF0T3B0aW9ucyA9IHsKICAgICAgICAgICAgJ2tleScgOiAnZGI3OGU0OWEzYzk3ZGMzNTYyYzNiNDg1NTllYTRhMjgnLAogICAgICAgICAgICAnZm9ybWF0JyA6ICdpZnJhbWUnLAogICAgICAgICAgICAnaGVpZ2h0JyA6IDUwLAogICAgICAgICAgICAnd2lkdGgnIDogMzIwLAogICAgICAgICAgICAncGFyYW1zJyA6IHt9CiAgICAgICAgICB9OwogICAgICAgIDwvc2NyaXB0PgogICAgICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3Ryb29waW52YXJpYWJseS5jb20vZGI3OGU0OWEzYzk3ZGMzNTYyYzNiNDg1NTllYTRhMjgvaW52b2tlLmpzIj48L3NjcmlwdD4KICAgICAgPC9kaXY+CiAgICA8L21haW4+CiAgPC9kaXY+CiAgCiAgCiAgPGRpdiBjbGFzcz0iZmxvYXRpbmctY29udGFjdCIgaWQ9ImZsb2F0aW5nQ29udGFjdCI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXBhcGVyLXBsYW5lIj48L2k+CiAgPC9kaXY+CiAgCiAgPHNjcmlwdD4KICAgIC8vIFN0YXRlIG1hbmFnZW1lbnQKICAgIGxldCBhbGxDaGFubmVscyA9IFtdOwogICAgbGV0IGZpbHRlcmVkQ2hhbm5lbHMgPSBbXTsKICAgIGxldCBjYXRlZ29yaWVzID0gbmV3IFNldCgpOwogICAgbGV0IGNhdGVnb3J5Q291bnRzID0ge307CiAgICBsZXQgZmF2b3JpdGVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmF2b3JpdGVzJykpIHx8IFtdOwogICAgbGV0IHJlY2VudENoYW5uZWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVjZW50Q2hhbm5lbHMnKSkgfHwgW107CiAgICBsZXQgY3VycmVudFZpZXcgPSAnYWxsJzsKICAgIGxldCBjdXJyZW50Q2F0ZWdvcnkgPSAnYWxsJzsKICAgIGxldCBjdXJyZW50U2VhcmNoID0gJyc7CiAgICBsZXQgY3VycmVudENoYW5uZWwgPSBudWxsOwogICAgbGV0IHBsYXllciA9IG51bGw7CiAgICBsZXQgdWkgPSBudWxsOwogICAgCiAgICAvLyBET00gZWxlbWVudHMKICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkZXInKTsKICAgIGNvbnN0IGNoYW5uZWxzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFubmVsc0xpc3QnKTsKICAgIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhcicpOwogICAgY29uc3Qgc2lkZWJhclRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyVG9nZ2xlJyk7CiAgICBjb25zdCBjb250ZW50QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50QXJlYScpOwogICAgY29uc3QgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvRWxlbWVudCcpOwogICAgY29uc3QgdmlkZW9Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW9Db250YWluZXInKTsKICAgIGNvbnN0IHBsYXllclNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyU2VjdGlvbicpOwogICAgY29uc3QgY3VycmVudENoYW5uZWxJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnRDaGFubmVsSW5mbycpOwogICAgY29uc3QgY3VycmVudENoYW5uZWxMb2dvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnRDaGFubmVsTG9nbycpOwogICAgY29uc3QgY3VycmVudENoYW5uZWxUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50Q2hhbm5lbFRpdGxlJyk7CiAgICBjb25zdCBjdXJyZW50Q2hhbm5lbE1ldGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudENoYW5uZWxNZXRhJyk7CiAgICBjb25zdCBmYXZDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhdkNvdW50Jyk7CiAgICBjb25zdCByZWNlbnRDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2VudENvdW50Jyk7CiAgICBjb25zdCBzaWRlYmFyU2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXJTZWFyY2gnKTsKICAgIGNvbnN0IHNpZGViYXJDYXRlZ29yeUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhckNhdGVnb3J5TGlzdCcpOwogICAgY29uc3QgY2F0ZWdvcnlUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnlUb2dnbGUnKTsKICAgIGNvbnN0IGNhdGVnb3J5QXJyb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnlBcnJvdycpOwogICAgY29uc3QgbW9iaWxlQ2F0ZWdvcnlNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZUNhdGVnb3J5TWVudScpOwogICAgY29uc3QgbW9iaWxlQ2F0ZWdvcnlQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGVDYXRlZ29yeVBhbmVsJyk7CiAgICBjb25zdCBmYXZvcml0ZUJ0blBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYXZvcml0ZUJ0blBsYXllcicpOwogICAgY29uc3QgZnVsbHNjcmVlbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdWxsc2NyZWVuQnRuJyk7CiAgICAKICAgIC8vIEluaXRpYWxpemUKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICAgIHVwZGF0ZUJhZGdlQ291bnRzKCk7CiAgICAgIGxvYWRDaGFubmVscygpOwogICAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCk7CiAgICAgIHNldHVwU2hha2FQbGF5ZXIoKTsKICAgIH0pOwogICAgCiAgICBmdW5jdGlvbiBsb2FkQ2hhbm5lbHMoKSB7CiAgICAgIGZldGNoKCdodHRwczovL2FsbGlub25lcmVib3JuLnh5ei9qc3Ryd2ViMi9qc3RyLnBocCcpCiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBhbGxDaGFubmVscyA9IGRhdGEuZmlsdGVyKGNoYW5uZWwgPT4gY2hhbm5lbC5tcGQpOyAvLyBGaWx0ZXIgb3V0IG5vbi1wbGF5YWJsZSBjaGFubmVscwogICAgICAgICAgCiAgICAgICAgICAvLyBFeHRyYWN0IHVuaXF1ZSBjYXRlZ29yaWVzIGFuZCBjb3VudCB0aGVtCiAgICAgICAgICBkYXRhLmZvckVhY2goY2hhbm5lbCA9PiB7CiAgICAgICAgICAgIGlmIChjaGFubmVsLmNhdGVnb3J5KSB7CiAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjaGFubmVsLmNhdGVnb3J5OwogICAgICAgICAgICAgIGNhdGVnb3JpZXMuYWRkKGNhdGVnb3J5KTsKICAgICAgICAgICAgICBjYXRlZ29yeUNvdW50c1tjYXRlZ29yeV0gPSAoY2F0ZWdvcnlDb3VudHNbY2F0ZWdvcnldIHx8IDApICsgMTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgIC8vIFNvcnQgY2F0ZWdvcmllcyBhbHBoYWJldGljYWxseQogICAgICAgICAgY2F0ZWdvcmllcyA9IG5ldyBTZXQoQXJyYXkuZnJvbShjYXRlZ29yaWVzKS5zb3J0KCkpOwogICAgICAgICAgCiAgICAgICAgICByZW5kZXJTaWRlYmFyQ2F0ZWdvcmllcygpOwogICAgICAgICAgcmVuZGVyTW9iaWxlQ2F0ZWdvcmllcygpOwogICAgICAgICAgZmlsdGVyQW5kUmVuZGVyQ2hhbm5lbHMoKTsKICAgICAgICAgIGxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgY2hhbm5lbHM6JywgZXJyb3IpOwogICAgICAgICAgbG9hZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICBzaG93RXJyb3JTdGF0ZSgpOwogICAgICAgIH0pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZW5kZXJTaWRlYmFyQ2F0ZWdvcmllcygpIHsKICAgICAgc2lkZWJhckNhdGVnb3J5TGlzdC5pbm5lckhUTUwgPSAnJzsKICAgICAgCiAgICAgIC8vIEFkZCAiQWxsIiBjYXRlZ29yeQogICAgICBjb25zdCBhbGxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGFsbEl0ZW0uY2xhc3NOYW1lID0gJ3NpZGViYXItY2F0ZWdvcnktaXRlbSBhY3RpdmUnOwogICAgICBhbGxJdGVtLmlubmVySFRNTCA9IGAKICAgICAgICA8c3Bhbj5BbGwgQ2hhbm5lbHM8L3NwYW4+CiAgICAgICAgPHNwYW4gY2xhc3M9ImNhdGVnb3J5LWNvdW50Ij4ke2FsbENoYW5uZWxzLmxlbmd0aH08L3NwYW4+CiAgICAgIGA7CiAgICAgIGFsbEl0ZW0ub25jbGljayA9ICgpID0+IHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2lkZWJhci1jYXRlZ29yeS1pdGVtJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgfSk7CiAgICAgICAgYWxsSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSAnYWxsJzsKICAgICAgICBmaWx0ZXJBbmRSZW5kZXJDaGFubmVscygpOwogICAgICB9OwogICAgICBzaWRlYmFyQ2F0ZWdvcnlMaXN0LmFwcGVuZENoaWxkKGFsbEl0ZW0pOwogICAgICAKICAgICAgLy8gQWRkIG90aGVyIGNhdGVnb3JpZXMKICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHsKICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnc2lkZWJhci1jYXRlZ29yeS1pdGVtJzsKICAgICAgICBpdGVtLmlubmVySFRNTCA9IGAKICAgICAgICAgIDxzcGFuPiR7Y2F0ZWdvcnl9PC9zcGFuPgogICAgICAgICAgPHNwYW4gY2xhc3M9ImNhdGVnb3J5LWNvdW50Ij4ke2NhdGVnb3J5Q291bnRzW2NhdGVnb3J5XX08L3NwYW4+CiAgICAgICAgYDsKICAgICAgICBpdGVtLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2lkZWJhci1jYXRlZ29yeS1pdGVtJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgIH0pOwogICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgIGN1cnJlbnRDYXRlZ29yeSA9IGNhdGVnb3J5OwogICAgICAgICAgZmlsdGVyQW5kUmVuZGVyQ2hhbm5lbHMoKTsKICAgICAgICB9OwogICAgICAgIHNpZGViYXJDYXRlZ29yeUxpc3QuYXBwZW5kQ2hpbGQoaXRlbSk7CiAgICAgIH0pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZW5kZXJNb2JpbGVDYXRlZ29yaWVzKCkgewogICAgICBtb2JpbGVDYXRlZ29yeVBhbmVsLmlubmVySFRNTCA9ICcnOwogICAgICAKICAgICAgLy8gQWRkICJBbGwiIGNhdGVnb3J5CiAgICAgIGNvbnN0IGFsbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgYWxsSXRlbS5jbGFzc05hbWUgPSAnY2F0ZWdvcnktY2hpcCBhY3RpdmUnOwogICAgICBhbGxJdGVtLnRleHRDb250ZW50ID0gYEFsbCAoJHthbGxDaGFubmVscy5sZW5ndGh9KWA7CiAgICAgIGFsbEl0ZW0ub25jbGljayA9ICgpID0+IHsKICAgICAgICBtb2JpbGVDYXRlZ29yeVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTsKICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSAnYWxsJzsKICAgICAgICBmaWx0ZXJBbmRSZW5kZXJDaGFubmVscygpOwogICAgICB9OwogICAgICBtb2JpbGVDYXRlZ29yeVBhbmVsLmFwcGVuZENoaWxkKGFsbEl0ZW0pOwogICAgICAKICAgICAgLy8gQWRkIG90aGVyIGNhdGVnb3JpZXMKICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHsKICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnY2F0ZWdvcnktY2hpcCc7CiAgICAgICAgaXRlbS50ZXh0Q29udGVudCA9IGAke2NhdGVnb3J5fSAoJHtjYXRlZ29yeUNvdW50c1tjYXRlZ29yeV19KWA7CiAgICAgICAgaXRlbS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgbW9iaWxlQ2F0ZWdvcnlQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBjYXRlZ29yeTsKICAgICAgICAgIGZpbHRlckFuZFJlbmRlckNoYW5uZWxzKCk7CiAgICAgICAgfTsKICAgICAgICBtb2JpbGVDYXRlZ29yeVBhbmVsLmFwcGVuZENoaWxkKGl0ZW0pOwogICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZmlsdGVyQW5kUmVuZGVyQ2hhbm5lbHMoKSB7CiAgICAgIGxldCBmaWx0ZXJlZCA9IGN1cnJlbnRWaWV3ID09PSAnYWxsJyA/IGFsbENoYW5uZWxzIDogCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPT09ICdmYXZvcml0ZXMnID8gYWxsQ2hhbm5lbHMuZmlsdGVyKGMgPT4gZmF2b3JpdGVzLmluY2x1ZGVzKGMuY2hhbm5lbF9pZCB8fCBjLm5hbWUpKSA6CiAgICAgICAgICAgICAgICAgICAgcmVjZW50Q2hhbm5lbHMubWFwKGlkID0+IGFsbENoYW5uZWxzLmZpbmQoYyA9PiAoYy5jaGFubmVsX2lkIHx8IGMubmFtZSkgPT09IGlkKSkuZmlsdGVyKGMgPT4gYyk7CiAgICAgIAogICAgICAvLyBGaWx0ZXIgYnkgY2F0ZWdvcnkKICAgICAgaWYgKGN1cnJlbnRDYXRlZ29yeSAhPT0gJ2FsbCcpIHsKICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihjID0+IGMuY2F0ZWdvcnkgPT09IGN1cnJlbnRDYXRlZ29yeSk7CiAgICAgIH0KICAgICAgCiAgICAgIC8vIEZpbHRlciBieSBzZWFyY2gKICAgICAgaWYgKGN1cnJlbnRTZWFyY2gpIHsKICAgICAgICBjb25zdCBzZWFyY2hMb3dlciA9IGN1cnJlbnRTZWFyY2gudG9Mb3dlckNhc2UoKTsKICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihjID0+IAogICAgICAgICAgYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8IAogICAgICAgICAgKGMuY2F0ZWdvcnkgJiYgYy5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSkKICAgICAgICApOwogICAgICB9CiAgICAgIAogICAgICBmaWx0ZXJlZENoYW5uZWxzID0gZmlsdGVyZWQ7CiAgICAgIAogICAgICByZW5kZXJDaGFubmVsc0xpc3QoZmlsdGVyZWQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZW5kZXJDaGFubmVsc0xpc3QoY2hhbm5lbHMpIHsKICAgICAgY2hhbm5lbHNMaXN0LmlubmVySFRNTCA9ICcnOwogICAgICAKICAgICAgLy8gRmlyc3QsIGFkZCB0aGUgVGVsZWdyYW0gZW50cnkgQUxXQVlTIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGNoYW5uZWxzIGxpc3QKICAgICAgY29uc3QgdGVsZWdyYW1FbnRyeSA9IGFsbENoYW5uZWxzLmZpbmQoY2hhbm5lbCA9PiAKICAgICAgICBjaGFubmVsLm5hbWUgPT09ICJKb2luIFRlbGVncmFtIC0gQWxsSW5PbmUgUmVib3JuIiB8fCAKICAgICAgICBjaGFubmVsLnRlbGVncmFtID09PSAiaHR0cHM6Ly90Lm1lL2FsbGlub25lX3JlYm9ybiIKICAgICAgKTsKICAgICAgCiAgICAgIGlmICh0ZWxlZ3JhbUVudHJ5KSB7CiAgICAgICAgY29uc3QgdGVsZWdyYW1JdGVtID0gY3JlYXRlVGVsZWdyYW1TaWRlYmFySXRlbSh0ZWxlZ3JhbUVudHJ5KTsKICAgICAgICBjaGFubmVsc0xpc3QuYXBwZW5kQ2hpbGQodGVsZWdyYW1JdGVtKTsKICAgICAgfQogICAgICAKICAgICAgaWYgKGNoYW5uZWxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGNvbnN0IGVtcHR5TXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZW1wdHlNc2cuY2xhc3NOYW1lID0gJ2VtcHR5LXN0YXRlJzsKICAgICAgICBlbXB0eU1zZy5zdHlsZS5wYWRkaW5nID0gJzFyZW0nOwogICAgICAgIGVtcHR5TXNnLmlubmVySFRNTCA9IGAKICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2VhcmNoIj48L2k+CiAgICAgICAgICA8cD5ObyBjaGFubmVscyBmb3VuZDwvcD4KICAgICAgICBgOwogICAgICAgIGNoYW5uZWxzTGlzdC5hcHBlbmRDaGlsZChlbXB0eU1zZyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIAogICAgICBjaGFubmVscy5mb3JFYWNoKGNoYW5uZWwgPT4gewogICAgICAgIC8vIFNraXAgdGhlIFRlbGVncmFtIGVudHJ5IGFzIHdlIGFscmVhZHkgYWRkZWQgaXQKICAgICAgICBpZiAoY2hhbm5lbC5uYW1lID09PSAiSm9pbiBUZWxlZ3JhbSAtIEFsbEluT25lIFJlYm9ybiIgfHwgCiAgICAgICAgICAgIGNoYW5uZWwudGVsZWdyYW0gPT09ICJodHRwczovL3QubWUvYWxsaW5vbmVfcmVib3JuIikgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBjb25zdCBjaGFubmVsSWRlbnRpZmllciA9IGNoYW5uZWwuY2hhbm5lbF9pZCB8fCBjaGFubmVsLm5hbWU7CiAgICAgICAgCiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2NoYW5uZWwtaXRlbSc7CiAgICAgICAgaXRlbS5kYXRhc2V0LmNoYW5uZWxJZCA9IGNoYW5uZWxJZGVudGlmaWVyOwogICAgICAgIGl0ZW0ub25jbGljayA9ICgpID0+IHBsYXlDaGFubmVsKGNoYW5uZWwpOwogICAgICAgIAogICAgICAgIGNvbnN0IGxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgICAgICBsb2dvLmNsYXNzTmFtZSA9ICdjaGFubmVsLWxvZ28tc21hbGwnOwogICAgICAgIGxvZ28uc3JjID0gY2hhbm5lbC5sb2dvOwogICAgICAgIGxvZ28uYWx0ID0gYCR7Y2hhbm5lbC5uYW1lfSBsb2dvYDsKICAgICAgICBsb2dvLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAgICAgICBsb2dvLnNyYyA9ICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNDAvMWEyMzdlL2ZmZmZmZj90ZXh0PVRWJzsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBpbmZvLmNsYXNzTmFtZSA9ICdjaGFubmVsLWluZm8nOwogICAgICAgIAogICAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBuYW1lLmNsYXNzTmFtZSA9ICdjaGFubmVsLW5hbWUnOwogICAgICAgIG5hbWUudGV4dENvbnRlbnQgPSBjaGFubmVsLm5hbWU7CiAgICAgICAgCiAgICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1ldGEuY2xhc3NOYW1lID0gJ2NoYW5uZWwtbWV0YSc7CiAgICAgICAgbWV0YS50ZXh0Q29udGVudCA9IGNoYW5uZWwuY2F0ZWdvcnkgfHwgJ0dlbmVyYWwnOwogICAgICAgIAogICAgICAgIGluZm8uYXBwZW5kQ2hpbGQobmFtZSk7CiAgICAgICAgaW5mby5hcHBlbmRDaGlsZChtZXRhKTsKICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGxvZ28pOwogICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoaW5mbyk7CiAgICAgICAgY2hhbm5lbHNMaXN0LmFwcGVuZENoaWxkKGl0ZW0pOwogICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlVGVsZWdyYW1TaWRlYmFySXRlbShjaGFubmVsKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgaXRlbS5jbGFzc05hbWUgPSAnY2hhbm5lbC1pdGVtIHRlbGVncmFtLWl0ZW0nOwogICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmQgPSAnbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDM2LCAxNjEsIDIyMiwgMC4yKSwgcmdiYSgzNiwgMTYxLCAyMjIsIDAuMSkpJzsKICAgICAgaXRlbS5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHJnYmEoMzYsIDE2MSwgMjIyLCAwLjMpJzsKICAgICAgaXRlbS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CiAgICAgIGl0ZW0ub25jbGljayA9ICgpID0+IHsKICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly90Lm1lL2FsbGlub25lX3JlYm9ybicsICdfYmxhbmsnKTsKICAgICAgfTsKICAgICAgCiAgICAgIGNvbnN0IGxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgICAgbG9nby5jbGFzc05hbWUgPSAnY2hhbm5lbC1sb2dvLXNtYWxsJzsKICAgICAgbG9nby5zcmMgPSBjaGFubmVsLmxvZ28gfHwgJ2h0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvOC84Mi9UZWxlZ3JhbV9sb2dvLnN2Zyc7CiAgICAgIGxvZ28uYWx0ID0gJ1RlbGVncmFtIGxvZ28nOwogICAgICBsb2dvLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgzNiwgMTYxLCAyMjIsIDAuMiknOwogICAgICBsb2dvLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAgICAgbG9nby5zcmMgPSAnaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy84LzgyL1RlbGVncmFtX2xvZ28uc3ZnJzsKICAgICAgfTsKICAgICAgCiAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgaW5mby5jbGFzc05hbWUgPSAnY2hhbm5lbC1pbmZvJzsKICAgICAgCiAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgbmFtZS5jbGFzc05hbWUgPSAnY2hhbm5lbC1uYW1lJzsKICAgICAgbmFtZS50ZXh0Q29udGVudCA9IGNoYW5uZWwubmFtZSB8fCAnSm9pbiBUZWxlZ3JhbSAtIEFsbEluT25lIFJlYm9ybic7CiAgICAgIG5hbWUuc3R5bGUuY29sb3IgPSAnIzI0QTFERSc7CiAgICAgIG5hbWUuc3R5bGUuZm9udFdlaWdodCA9ICc2MDAnOwogICAgICAKICAgICAgY29uc3QgbWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBtZXRhLmNsYXNzTmFtZSA9ICdjaGFubmVsLW1ldGEnOwogICAgICBtZXRhLnRleHRDb250ZW50ID0gJ0NsaWNrIHRvIGpvaW4gZm9yIHVwZGF0ZXMgJiBzdXBwb3J0JzsKICAgICAgbWV0YS5zdHlsZS5jb2xvciA9ICcjOTBlMGVmJzsKICAgICAgCiAgICAgIGluZm8uYXBwZW5kQ2hpbGQobmFtZSk7CiAgICAgIGluZm8uYXBwZW5kQ2hpbGQobWV0YSk7CiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQobG9nbyk7CiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoaW5mbyk7CiAgICAgIAogICAgICByZXR1cm4gaXRlbTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0dXBTaGFrYVBsYXllcigpIHsKICAgICAgc2hha2EucG9seWZpbGwuaW5zdGFsbEFsbCgpOwogICAgICBpZiAoIXNoYWthLlBsYXllci5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSkgewogICAgICAgIGFsZXJ0KCJTaGFrYSBQbGF5ZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgCiAgICAgIHBsYXllciA9IG5ldyBzaGFrYS5QbGF5ZXIodmlkZW9FbGVtZW50KTsKICAgICAgdWkgPSBuZXcgc2hha2EudWkuT3ZlcmxheShwbGF5ZXIsIHZpZGVvQ29udGFpbmVyLCB2aWRlb0VsZW1lbnQpOwogICAgICAKICAgICAgdWkuY29uZmlndXJlKHsKICAgICAgICBjb250cm9sUGFuZWxFbGVtZW50czogWwogICAgICAgICAgJ3BsYXlfcGF1c2UnLCAndGltZV9hbmRfZHVyYXRpb24nLCAnbXV0ZScsICd2b2x1bWUnLCAnc3BhY2VyJywKICAgICAgICAgICdxdWFsaXR5JywgJ2xhbmd1YWdlJywgJ3BpY3R1cmVfaW5fcGljdHVyZScsICdmdWxsc2NyZWVuJwogICAgICAgIF0sCiAgICAgICAgYWRkQmlnUGxheUJ1dHRvbjogdHJ1ZSwKICAgICAgICBzZWVrQmFyQ29sb3JzOiB7CiAgICAgICAgICBiYXNlOiAncmdiYSgyNTUsMjU1LDI1NSwuMiknLAogICAgICAgICAgYnVmZmVyZWQ6ICdyZ2JhKDI1NSwyNTUsMjU1LC40KScsCiAgICAgICAgICBwbGF5ZWQ6ICdyZ2IoMjU1LDAsMCknCiAgICAgICAgfQogICAgICB9KTsKICAgICAgCiAgICAgIHBsYXllci5jb25maWd1cmUoewogICAgICAgIHN0cmVhbWluZzogewogICAgICAgICAgYnVmZmVyaW5nR29hbDogMzAsCiAgICAgICAgICByZWJ1ZmZlcmluZ0dvYWw6IDUsCiAgICAgICAgICBidWZmZXJCZWhpbmQ6IDMwLAogICAgICAgICAgcmV0cnlQYXJhbWV0ZXJzOiB7CiAgICAgICAgICAgIHRpbWVvdXQ6IDE1MDAwLAogICAgICAgICAgICBtYXhBdHRlbXB0czogMywKICAgICAgICAgICAgYmFzZURlbGF5OiA1MDAsCiAgICAgICAgICAgIGJhY2tvZmZGYWN0b3I6IDEuNQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIAogICAgICAvLyBVbm11dGUgb24gZmlyc3QgaW50ZXJhY3Rpb24KICAgICAgWydjbGljaycsICd0b3VjaHN0YXJ0J10uZm9yRWFjaChldnQgPT4gewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCAoKSA9PiB7CiAgICAgICAgICBpZiAodmlkZW9FbGVtZW50Lm11dGVkKSB7CiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5tdXRlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTsKICAgICAgfSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHBsYXlDaGFubmVsKGNoYW5uZWwpIHsKICAgICAgaWYgKCFjaGFubmVsIHx8ICFjaGFubmVsLm1wZCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgY2hhbm5lbCBkYXRhJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIAogICAgICBjdXJyZW50Q2hhbm5lbCA9IGNoYW5uZWw7CiAgICAgIAogICAgICAvLyBVcGRhdGUgVUkKICAgICAgY3VycmVudENoYW5uZWxUaXRsZS50ZXh0Q29udGVudCA9IGNoYW5uZWwubmFtZTsKICAgICAgY3VycmVudENoYW5uZWxNZXRhLnRleHRDb250ZW50ID0gY2hhbm5lbC5jYXRlZ29yeSB8fCAnTGl2ZSBTdHJlYW0nOwogICAgICBjdXJyZW50Q2hhbm5lbExvZ28uc3JjID0gY2hhbm5lbC5sb2dvIHx8ICdodHRwczovL2ltZy5zYW5pc2h0ZWNoLmNvbS91LzcwYmRlNjMxM2IwMTEwYWE1NDAwZGNlYmE0NTU5OGMyLnBuZyc7CiAgICAgIGN1cnJlbnRDaGFubmVsTG9nby5vbmVycm9yID0gKCkgPT4gewogICAgICAgIGN1cnJlbnRDaGFubmVsTG9nby5zcmMgPSAnaHR0cHM6Ly9pbWcuc2FuaXNodGVjaC5jb20vdS83MGJkZTYzMTNiMDExMGFhNTQwMGRjZWJhNDU1OThjMi5wbmcnOwogICAgICB9OwogICAgICAKICAgICAgLy8gVXBkYXRlIGFjdGl2ZSBzdGF0ZSBpbiBzaWRlYmFyCiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFubmVsLWl0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgIH0pOwogICAgICBjb25zdCBjaGFubmVsSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoYW5uZWwtaWQ9IiR7Y2hhbm5lbC5jaGFubmVsX2lkIHx8IGNoYW5uZWwubmFtZX0iXWApOwogICAgICBpZiAoY2hhbm5lbEl0ZW0pIHsKICAgICAgICBjaGFubmVsSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgfQogICAgICAKICAgICAgLy8gVXBkYXRlIGZhdm9yaXRlIGJ1dHRvbgogICAgICB1cGRhdGVQbGF5ZXJGYXZvcml0ZUJ1dHRvbigpOwogICAgICAKICAgICAgLy8gQ29uZmlndXJlIHBsYXllciB3aXRoIGNoYW5uZWwgZGF0YQogICAgICBwbGF5ZXIuY29uZmlndXJlKHsKICAgICAgICBkcm06IGNoYW5uZWwuZHJtID8geyBjbGVhcktleXM6IGNoYW5uZWwuZHJtIH0gOiB1bmRlZmluZWQKICAgICAgfSk7CiAgICAgIAogICAgICBwbGF5ZXIuZ2V0TmV0d29ya2luZ0VuZ2luZSgpLnJlZ2lzdGVyUmVxdWVzdEZpbHRlcigodHlwZSwgcmVxdWVzdCkgPT4gewogICAgICAgIGlmIChjaGFubmVsLnJlZmVyZXIpIHJlcXVlc3QuaGVhZGVyc1siUmVmZXJlciJdID0gY2hhbm5lbC5yZWZlcmVyOwogICAgICAgIGlmIChjaGFubmVsLnVzZXJBZ2VudCkgcmVxdWVzdC5oZWFkZXJzWyJVc2VyLUFnZW50Il0gPSBjaGFubmVsLnVzZXJBZ2VudDsKICAgICAgICBpZiAoY2hhbm5lbC50b2tlbikgcmVxdWVzdC5oZWFkZXJzWyJDb29raWUiXSA9IGNoYW5uZWwudG9rZW47CiAgICAgICAgCiAgICAgICAgaWYgKAogICAgICAgICAgKHR5cGUgPT09IHNoYWthLm5ldC5OZXR3b3JraW5nRW5naW5lLlJlcXVlc3RUeXBlLk1BTklGRVNUIHx8CiAgICAgICAgICAgdHlwZSA9PT0gc2hha2EubmV0Lk5ldHdvcmtpbmdFbmdpbmUuUmVxdWVzdFR5cGUuU0VHTUVOVCkgJiYKICAgICAgICAgICFyZXF1ZXN0LnVyaXNbMF0uaW5jbHVkZXMoIl9faGRuZWFfXz0iKSAmJgogICAgICAgICAgY2hhbm5lbC50b2tlbgogICAgICAgICkgewogICAgICAgICAgY29uc3Qgc2VwID0gcmVxdWVzdC51cmlzWzBdLmluY2x1ZGVzKCI/IikgPyAiJiIgOiAiPyI7CiAgICAgICAgICByZXF1ZXN0LnVyaXNbMF0gKz0gc2VwICsgY2hhbm5lbC50b2tlbjsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAKICAgICAgLy8gTG9hZCBhbmQgcGxheSB0aGUgc3RyZWFtCiAgICAgIHBsYXllci5sb2FkKGNoYW5uZWwubXBkKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHJldHVybiB2aWRlb0VsZW1lbnQucGxheSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBsYXlpbmcgY2hhbm5lbDonLCBlcnJvcik7CiAgICAgICAgICBhbGVydCgnRXJyb3IgcGxheWluZyB0aGlzIGNoYW5uZWwuIFBsZWFzZSB0cnkgYW5vdGhlci4nKTsKICAgICAgICB9KTsKICAgICAgCiAgICAgIC8vIEFkZCB0byByZWNlbnQKICAgICAgYWRkVG9SZWNlbnQoY2hhbm5lbCk7CiAgICAgIAogICAgICAvLyBPbiBtb2JpbGUsIHNjcm9sbCBwbGF5ZXIgaW50byB2aWV3CiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQpIHsKICAgICAgICBwbGF5ZXJTZWN0aW9uLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pOwogICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHVwZGF0ZVBsYXllckZhdm9yaXRlQnV0dG9uKCkgewogICAgICBpZiAoIWN1cnJlbnRDaGFubmVsKSB7CiAgICAgICAgZmF2b3JpdGVCdG5QbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIAogICAgICBjb25zdCBjaGFubmVsSWRlbnRpZmllciA9IGN1cnJlbnRDaGFubmVsLmNoYW5uZWxfaWQgfHwgY3VycmVudENoYW5uZWwubmFtZTsKICAgICAgY29uc3QgaXNGYXZvcml0ZSA9IGZhdm9yaXRlcy5pbmNsdWRlcyhjaGFubmVsSWRlbnRpZmllcik7CiAgICAgIAogICAgICBpZiAoaXNGYXZvcml0ZSkgewogICAgICAgIGZhdm9yaXRlQnRuUGxheWVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgIGZhdm9yaXRlQnRuUGxheWVyLnRpdGxlID0gIlJlbW92ZSBmcm9tIGZhdm9yaXRlcyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmF2b3JpdGVCdG5QbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgZmF2b3JpdGVCdG5QbGF5ZXIudGl0bGUgPSAiQWRkIHRvIGZhdm9yaXRlcyI7CiAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gdG9nZ2xlRmF2b3JpdGUoY2hhbm5lbElkZW50aWZpZXIpIHsKICAgICAgY29uc3QgaW5kZXggPSBmYXZvcml0ZXMuaW5kZXhPZihjaGFubmVsSWRlbnRpZmllcik7CiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICBmYXZvcml0ZXMucHVzaChjaGFubmVsSWRlbnRpZmllcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmF2b3JpdGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm9yaXRlcycsIEpTT04uc3RyaW5naWZ5KGZhdm9yaXRlcykpOwogICAgICB1cGRhdGVCYWRnZUNvdW50cygpOwogICAgICB1cGRhdGVQbGF5ZXJGYXZvcml0ZUJ1dHRvbigpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhZGRUb1JlY2VudChjaGFubmVsKSB7CiAgICAgIGNvbnN0IGNoYW5uZWxJZGVudGlmaWVyID0gY2hhbm5lbC5jaGFubmVsX2lkIHx8IGNoYW5uZWwubmFtZTsKICAgICAgcmVjZW50Q2hhbm5lbHMgPSByZWNlbnRDaGFubmVscy5maWx0ZXIoaWQgPT4gaWQgIT09IGNoYW5uZWxJZGVudGlmaWVyKTsKICAgICAgcmVjZW50Q2hhbm5lbHMudW5zaGlmdChjaGFubmVsSWRlbnRpZmllcik7CiAgICAgIHJlY2VudENoYW5uZWxzID0gcmVjZW50Q2hhbm5lbHMuc2xpY2UoMCwgMTApOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVjZW50Q2hhbm5lbHMnLCBKU09OLnN0cmluZ2lmeShyZWNlbnRDaGFubmVscykpOwogICAgICB1cGRhdGVCYWRnZUNvdW50cygpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB1cGRhdGVCYWRnZUNvdW50cygpIHsKICAgICAgZmF2Q291bnRFbC50ZXh0Q29udGVudCA9IGZhdm9yaXRlcy5sZW5ndGg7CiAgICAgIHJlY2VudENvdW50RWwudGV4dENvbnRlbnQgPSByZWNlbnRDaGFubmVscy5sZW5ndGg7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAgIC8vIE5hdmlnYXRpb24gYnV0dG9ucwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsQ2hhbm5lbHNCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGN1cnJlbnRWaWV3ID0gJ2FsbCc7CiAgICAgICAgdXBkYXRlQWN0aXZlTmF2KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxDaGFubmVsc0J0bicpKTsKICAgICAgICBmaWx0ZXJBbmRSZW5kZXJDaGFubmVscygpOwogICAgICB9KTsKICAgICAgCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYXZvcml0ZXNCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGN1cnJlbnRWaWV3ID0gJ2Zhdm9yaXRlcyc7CiAgICAgICAgdXBkYXRlQWN0aXZlTmF2KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYXZvcml0ZXNCdG4nKSk7CiAgICAgICAgZmlsdGVyQW5kUmVuZGVyQ2hhbm5lbHMoKTsKICAgICAgfSk7CiAgICAgIAogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjZW50QnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjdXJyZW50VmlldyA9ICdyZWNlbnQnOwogICAgICAgIHVwZGF0ZUFjdGl2ZU5hdihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjZW50QnRuJykpOwogICAgICAgIGZpbHRlckFuZFJlbmRlckNoYW5uZWxzKCk7CiAgICAgIH0pOwogICAgICAKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbWVCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGN1cnJlbnRWaWV3ID0gJ2FsbCc7CiAgICAgICAgdXBkYXRlQWN0aXZlTmF2KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxDaGFubmVsc0J0bicpKTsKICAgICAgICBmaWx0ZXJBbmRSZW5kZXJDaGFubmVscygpOwogICAgICB9KTsKICAgICAgCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0QnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly90Lm1lL2FsbGlub25lX3JlYm9ybicsICdfYmxhbmsnKTsKICAgICAgfSk7CiAgICAgIAogICAgICAvLyBTZWFyY2ggZnVuY3Rpb25hbGl0eQogICAgICBzaWRlYmFyU2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHsKICAgICAgICBjdXJyZW50U2VhcmNoID0gZS50YXJnZXQudmFsdWU7CiAgICAgICAgZmlsdGVyQW5kUmVuZGVyQ2hhbm5lbHMoKTsKICAgICAgfSk7CiAgICAgIAogICAgICAvLyBDYXRlZ29yeSB0b2dnbGUKICAgICAgY2F0ZWdvcnlUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgc2lkZWJhckNhdGVnb3J5TGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJyk7CiAgICAgICAgY2F0ZWdvcnlBcnJvdy5zdHlsZS50cmFuc2Zvcm0gPSBzaWRlYmFyQ2F0ZWdvcnlMaXN0LmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpID8gJ3JvdGF0ZSgxODBkZWcpJyA6ICdyb3RhdGUoMGRlZyknOwogICAgICB9KTsKICAgICAgCiAgICAgIC8vIEZhdm9yaXRlIGJ1dHRvbiBvbiBwbGF5ZXIKICAgICAgZmF2b3JpdGVCdG5QbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgaWYgKGN1cnJlbnRDaGFubmVsKSB7CiAgICAgICAgICBjb25zdCBjaGFubmVsSWRlbnRpZmllciA9IGN1cnJlbnRDaGFubmVsLmNoYW5uZWxfaWQgfHwgY3VycmVudENoYW5uZWwubmFtZTsKICAgICAgICAgIHRvZ2dsZUZhdm9yaXRlKGNoYW5uZWxJZGVudGlmaWVyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAKICAgICAgLy8gRnVsbHNjcmVlbiBidXR0b24KICAgICAgZnVsbHNjcmVlbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBpZiAoIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7CiAgICAgICAgICB2aWRlb0NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGF0dGVtcHRpbmcgdG8gZW5hYmxlIGZ1bGxzY3JlZW46ICR7ZXJyLm1lc3NhZ2V9YCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAKICAgICAgLy8gU2lkZWJhciB0b2dnbGUKICAgICAgc2lkZWJhclRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKTsKICAgICAgfSk7CiAgICAgIAogICAgICAvLyBNb2JpbGUgY2F0ZWdvcnkgbWVudQogICAgICBtb2JpbGVDYXRlZ29yeU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgbW9iaWxlQ2F0ZWdvcnlQYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJyk7CiAgICAgIH0pOwogICAgICAKICAgICAgLy8gQ2xvc2UgbW9iaWxlIGNhdGVnb3J5IHBhbmVsIHdoZW4gY2xpY2tpbmcgb3V0c2lkZQogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgaWYgKCFtb2JpbGVDYXRlZ29yeU1lbnUuY29udGFpbnMoZS50YXJnZXQpICYmICFtb2JpbGVDYXRlZ29yeVBhbmVsLmNvbnRhaW5zKGUudGFyZ2V0KSkgewogICAgICAgICAgbW9iaWxlQ2F0ZWdvcnlQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgCiAgICAgIC8vIENsb3NlIHNpZGViYXIgd2hlbiBjbGlja2luZyBvdXRzaWRlIG9uIG1vYmlsZQogICAgICBjb250ZW50QXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCAxMDI0ICYmIHNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHsKICAgICAgICAgIHNpZGViYXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIAogICAgICAvLyBGbG9hdGluZyBjb250YWN0IGJ1dHRvbgogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvYXRpbmdDb250YWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vdC5tZS9hbGxpbm9uZV9yZWJvcm4nLCAnX2JsYW5rJyk7CiAgICAgIH0pOwogICAgICAKICAgICAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzCiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIC8vIEVzY2FwZSBjbGVhcnMgc2VhcmNoCiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBjdXJyZW50U2VhcmNoKSB7CiAgICAgICAgICBjdXJyZW50U2VhcmNoID0gJyc7CiAgICAgICAgICBzaWRlYmFyU2VhcmNoLnZhbHVlID0gJyc7CiAgICAgICAgICBmaWx0ZXJBbmRSZW5kZXJDaGFubmVscygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDdHJsK0YgZm9jdXNlcyBzZWFyY2gKICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5ID09PSAnZicpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHNpZGViYXJTZWFyY2guZm9jdXMoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gU3BhY2UgdG9nZ2xlcyBwbGF5L3BhdXNlCiAgICAgICAgaWYgKGUua2V5ID09PSAnICcgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWdOYW1lICE9PSAnSU5QVVQnKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBpZiAodmlkZW9FbGVtZW50LnBhdXNlZCkgewogICAgICAgICAgICB2aWRlb0VsZW1lbnQucGxheSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBhdXNlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdXBkYXRlQWN0aXZlTmF2KGFjdGl2ZUJ0bikgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWxpbmtzIGEnKS5mb3JFYWNoKGJ0biA9PiB7CiAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICB9KTsKICAgICAgYWN0aXZlQnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzaG93RXJyb3JTdGF0ZSgpIHsKICAgICAgY2hhbm5lbHNMaXN0LmlubmVySFRNTCA9IGAKICAgICAgICA8ZGl2IHN0eWxlPSJncmlkLWNvbHVtbjogMSAvIC0xOyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDRyZW0gMnJlbTsgY29sb3I6ICNkZGQ7IGJhY2tncm91bmQ6ICMwNTBhMWY7IGJvcmRlci1yYWRpdXM6IDIwcHg7Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogNHJlbTsgbWFyZ2luLWJvdHRvbTogMXJlbTsgY29sb3I6ICNmZmQ0M2I7Ij4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhYiBmYS10ZWxlZ3JhbS1wbGFuZSI+PC9pPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8aDIgc3R5bGU9ImZvbnQtc2l6ZTogMnJlbTsgY29sb3I6ICNmZmY7IG1hcmdpbi1ib3R0b206IDAuN3JlbTsiPgogICAgICAgICAgICBKb2luIE91ciBUZWxlZ3JhbQogICAgICAgICAgPC9oMj4KICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDEuMnJlbTsgY29sb3I6ICNjY2M7IG1hcmdpbi1ib3R0b206IDJyZW07Ij4KICAgICAgICAgICAgR2V0IHRoZSBsYXRlc3QgY2hhbm5lbCB1cGRhdGVzIGFuZCBzdHJlYW0gbGlua3MKICAgICAgICAgIDwvcD4KICAgICAgICAgIDxidXR0b24gb25jbGljaz0id2luZG93Lm9wZW4oJ2h0dHBzOi8vdC5tZS9hbGxpbm9uZV9yZWJvcm4nLCAnX2JsYW5rJykiIHN0eWxlPSIKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZmZkNDNiLCAjZmZiYjAwKTsKICAgICAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogMXJlbSAyLjVyZW07CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgIj4KICAgICAgICAgICAgSm9pbiBOb3cKICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICBgOwogICAgfQogIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4="))));</script>
